<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orb Collector</title>

<style>
body {
    margin: 0;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at center, #0f172a, #020617);
    color: white;
}

#ui {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 10;
}

#score, #timer, #combo {
    font-size: 18px;
    margin-bottom: 5px;
}

.orb {
    position: absolute;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: radial-gradient(circle, #38bdf8, #0ea5e9);
    box-shadow: 0 0 20px #38bdf8;
    cursor: pointer;
    animation: pulse 1s infinite alternate;
}

@keyframes pulse {
    from { transform: scale(1); }
    to { transform: scale(1.15); }
}

#startScreen, #gameOver {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    font-size: 24px;
}

button {
    padding: 12px 24px;
    font-size: 18px;
    margin-top: 20px;
    background: #38bdf8;
    border: none;
    color: black;
    border-radius: 8px;
    cursor: pointer;
}
</style>
</head>
<body>

<div id="ui">
    <div id="score">Score: 0</div>
    <div id="timer">Time: 30</div>
    <div id="combo">Combo: 0</div>
</div>

<div id="startScreen">
    <div>ðŸŽ¯ Orb Collector</div>
    <button onclick="startGame()">Start Game</button>
</div>

<div id="gameOver" style="display:none;">
    <div id="finalScore"></div>
    <button onclick="restartGame()">Play Again</button>
</div>

<script>
let score = 0;
let time = 30;
let combo = 0;
let gameInterval;
let orbSpeed = 1200;

function startGame() {
    document.getElementById("startScreen").style.display = "none";
    score = 0;
    time = 30;
    combo = 0;
    orbSpeed = 1200;
    updateUI();
    spawnOrb();
    gameInterval = setInterval(updateGame, 1000);
}

function restartGame() {
    document.getElementById("gameOver").style.display = "none";
    startGame();
}

function updateGame() {
    time--;
    updateUI();

    if (time <= 0) {
        endGame();
    }

    if (orbSpeed > 400) {
        orbSpeed -= 30; // increases difficulty
    }
}

function spawnOrb() {
    if (time <= 0) return;

    const orb = document.createElement("div");
    orb.classList.add("orb");

    orb.style.left = Math.random() * (window.innerWidth - 60) + "px";
    orb.style.top = Math.random() * (window.innerHeight - 60) + "px";

    orb.onclick = () => {
        score += 10 + combo * 2;
        combo++;
        updateUI();
        orb.remove();
        spawnOrb();
    };

    document.body.appendChild(orb);

    setTimeout(() => {
        if (document.body.contains(orb)) {
            combo = 0;
            orb.remove();
            spawnOrb();
        }
    }, orbSpeed);
}

function updateUI() {
    document.getElementById("score").innerText = "Score: " + score;
    document.getElementById("timer").innerText = "Time: " + time;
    document.getElementById("combo").innerText = "Combo: " + combo;
}

function endGame() {
    clearInterval(gameInterval);
    document.querySelectorAll(".orb").forEach(o => o.remove());
    document.getElementById("finalScore").innerText = "Game Over! Final Score: " + score;
    document.getElementById("gameOver").style.display = "flex";
}
</script>

</body>
</html>